{% extends 'base.html' %}
{% load static i18n corpus_extras %}

{% block meta_title %}{{ page_title }}{% endblock meta_title %}
{% block meta_description %}{{ page_description }}{% endblock meta_description %}

{% block main %}
    <h1 class="sr-only">{{ page_title }}</h1>
    <!-- document scholarship records -->
    {% include "corpus/snippets/document_header.html" %}
    <div class="container">
        {% include "corpus/snippets/document_tabs.html" %}
        <ol>
            {% for fn in document.footnotes.all %}
                {% spaceless %}
                    <li class="citation">
                        <dl>
                            <dt class="sr-only">
                                {# Translators: accessibility label for a footnote source citation in scholarship records view #}
                                {% translate 'Bibliographic citation' %}
                            </dt>
                            <dd>
                                {{ fn.source.formatted_display|safe }}
                                {% if fn.source.source_type.type == "Unpublished" %}
                                    {# Translators: label for an unpublished scholarship record #}
                                    <div class="unpublished">{% translate 'unpublished' %}</div>
                                {% endif %}
                            </dd>
                            <dt class="relation">
                                {% if fn.location and fn.url %}
                                    {# Translators: label for footnote location within source (with url) #}
                                    {% blocktranslate with location=fn.location url=fn.url|unquote trimmed %}
                                        see <a href="{{ url }}">{{ location }}</a> for
                                    {% endblocktranslate %}
                                {% elif fn.location %}
                                    {# Translators: label for footnote location within source #}
                                    {% blocktranslate with location=fn.location trimmed %}
                                        see {{ location }} for
                                    {% endblocktranslate %}
                                {% elif fn.url %}
                                    {# Translators: label for included document relations for a footnote #}
                                    <a href="{{ fn.url }}">{% translate 'includes' %}</a>
                                {% else %}
                                    {% translate 'includes' %}
                                {% endif %}
                            </dt>
                            <dd class="relation">
                                {{ fn.doc_relation }}
                            </dd>
                        </dl>
                    </li>
                {% endspaceless %}
            {% endfor %}
        </ol>
    </div>
{% endblock main %}
