{% load i18n %}
<!-- document detail page navigation -->
{# Translators: accessibility text label for document detail view tabs navigation #}
<nav aria-label="{% translate "tabs" %}">
    <ul class="tabs">
        {% url 'corpus:document' pk=document.pk as document_url %}
        <li><a href="{{ document_url }}"{% if request.path == document_url %} aria-current="page"{% endif %}>{% translate "Document Details" %}</a></li>
        {% with n_records=document.sources.count %}
            {# Translators: n_records is number of scholarship records #}
            {% blocktranslate asvar srec_text %}Scholarship Records ({{ n_records }}){% endblocktranslate %}
            {% url 'corpus:document-scholarship' pk=document.pk as scholarship_url %}
            <li>{% if n_records > 0 %}<a href="{{ scholarship_url }}"{% if request.path == scholarship_url %} aria-current="page"{% endif %}>{{ srec_text }}</a>{% else %}<span>{{ srec_text }}</span>{% endif %}</li>
        {% endwith %}

        {# for MVP: external links is disabled; don't show a count #}
        {% blocktranslate asvar elink_text %}External Links{% endblocktranslate %}
        <li class="disabled"><span>{{ elink_text }}</span></li>
        {# preserving so we can get the text translation #}
        {% with n_links=document.fragment_urls|length %}
            {# Translators: n_links is number of external links #}
            {% blocktranslate asvar elink_text %}External Links ({{ n_links }}){% endblocktranslate %}
            {% comment %} {# after MVP: uncomment when we implement external links #}
            <li>{% if n_links > 0 %}<a href="#">{{ elink_text }}</a>{% else %}<span>{{ elink_text }}</span>{% endif %}</li>
            {% endcomment %}
        {% endwith %}
    </ul>
</nav>
