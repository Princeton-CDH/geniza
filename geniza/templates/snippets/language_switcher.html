{% load i18n %}

{% if LANGUAGES|length > 1 %}
    <form id="language" action="{% url 'set_language' %}" method="post">{% csrf_token %}
        <fieldset>
            <input name="next" type="hidden" value="{{ redirect_to }}">
            <select name="language">
                {% get_current_language as LANGUAGE_CODE %}
                {% get_language_info_list for LANGUAGES as languages %}
                {% for language in languages %}
                    <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                        {% language language.code %} {# display label for language in that language! #}
                            {# Translators: label for language choices in navigation #}
                            {% blocktranslate with language_name=language.name_local language_code=language.code trimmed %}
                                read this page in {{ language_name }} ({{ language_code }})
                            {% endblocktranslate %}
                        {% endlanguage %}
                    </option>
                {% endfor %}
            </select>
            {# Translators: button on language chooser in navigation #}
            <input type="submit" value="{% translate 'go' context 'choose this option' %}">
        </fieldset>
    </form>
{% endif %}
