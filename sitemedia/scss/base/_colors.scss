// -----------------------------------------------------------------------------
// Colors used across the project, including the theme.
// -----------------------------------------------------------------------------

@use "sass:color";
@use "sass:map";
@use "sass:meta";

// Basics
$white: #ffffff;
$black: #161616;
$blue: #146feb;
$transparent: transparent;

// Grays
$dark-gray: #3d3d3d;
$gray: #9e9e9e;
$light-gray: #ebebeb;
$off-white: #f7f7f7;

// Theme colors
$theme: (
    "primary": #436043,
    "secondary": #567856,
    "tertiary": #7bac7b,
    "on-primary": $white,
    "on-secondary": $white,
    "on-tertiary": $black,
    "background": $white,
    "background-light": $off-white,
    "on-background": $black,
    "on-background-light": $black,
    "disabled": $gray,
    "tabs-bottom": $light-gray,
    "tabs-bottom-hover": $dark-gray,
    "tabs-focus": #567856,
);

// Dark mode theme colors
$dark-theme: (
    "primary": #c37f97,
    "secondary": #b76680,
    "tertiary": #b76680,
    "on-primary": $black,
    "on-secondary": $black,
    "on-tertiary": $black,
    "background": $black,
    "background-light": $dark-gray,
    "on-background": $white,
    "on-background-light": $white,
    "disabled": $gray,
    "tabs-bottom": $dark-gray,
    "tabs-bottom-hover": $light-gray,
    "tabs-focus": $blue,
);

/*
 * Mixin for applying theme colors: sets a given property by looking up
 * the color in the theme by name, and automatically switches it to the
 * corresponding dark mode version using a media query.
 *
 * @param {string} $color - The color name to look up in the theme
 * @param {string} $property - The CSS property to set; default "color"
 *
 */
@mixin apply-theme($color, $property: color) {
    #{$property}: map.get($theme, $color);

    @media (prefers-color-scheme: dark) {
        #{$property}: map.get($dark-theme, $color);
    }
}

/*
 * Like @apply-theme, but sets both the background and text color using
 * the corresponding pair (e.g. primary and on-primary). The combo is selected
 * by background color.
 *
 * @param {string} $color - The background color name to look up in the theme
 *
 */
@mixin apply-combo($background) {
    color: map.get($theme, "on-#{$background}");
    background-color: map.get($theme, $background);

    @media (prefers-color-scheme: dark) {
        color: map.get($dark-theme, "on-#{$background}");
        background-color: map.get($dark-theme, $background);
    }
}
